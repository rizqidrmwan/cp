
<!DOCTYPE html>
<html lang="en">
<head>
  	<meta charset="utf-8">
  	<meta name="viewport" content="initial-scale=1, width=device-width">
  	
  	<link rel="stylesheet" href="./index4.css" />
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inria+Serif:wght@700&display=swap" />
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" />
  	<script>
      let comments = [];
      const maxCommentLength = 300;

      // Dummy sentiment analysis function
      function analyzeSentiment(text) {
         const positiveWords = ["bagus", "baik", "membantu"];
         const negativeWords = ["buruk", "jelek", "tidak"];
         
         let score = 0;
         text.split(' ').forEach(word => {
            if (positiveWords.includes(word)) score++;
            if (negativeWords.includes(word)) score--;
         });

         return score > 0 ? 'Positive' : score < 0 ? 'Negative' : 'Neutral';
      }

      function submitComment() {
         const commentInput = document.getElementById('commentInput');
         const commentText = commentInput.value.trim();
         
         if (commentText && commentText.length <= maxCommentLength) {
            const sentiment = analyzeSentiment(commentText);
            comments.push({ text: commentText, sentiment: sentiment });
            commentInput.value = '';
            displayComments();
         } else {
            alert('Please ensure your comment is within the character limit!');
         }
      }

      function displayComments() {
         const commentList = document.getElementById('commentList');
         commentList.innerHTML = comments.map((comment, index) => `
            <div class="comment-item">
               <p><strong>Sentiment: </strong>${comment.sentiment}</p>
               <p>${comment.text}</p>
               <button onclick="deleteComment(${index})">Delete</button>
            </div>
         `).join('');
      }

      function deleteComment(index) {
         comments.splice(index, 1);
         displayComments();
      }

      function sortComments(order) {
         if (order === 'Newest') {
            comments.reverse();
         } else {
            comments.sort((a, b) => a.date - b.date); // You can add a date field to each comment
         }
         displayComments();
      }

      function updateCharacterCount() {
         const commentInput = document.getElementById('commentInput');
         const remaining = maxCommentLength - commentInput.value.length;
         document.getElementById('charCount').textContent = `${remaining} characters remaining`;
      }
  	</script>
</head>
<body>
  	<div class="komentar">
      <div class="how-to-become-a-data-analyst-1-parent">
         <img class="how-to-become-a-data-analyst-1-icon" alt="" src="How-To-Become-A-Data-Analyst 1.png">
         <div class="rectangle-parent">
            <b class="analisis-sentimen-pengguna">Analisis Sentimen Pengguna terhadap Layanan Transportasi Gojek di Indonesia: Studi Kasus pada Ulasan Aplikasi di Play Store</b>
         </div>
      </div>
      <div class="komentar-wrapper">
         <b class="komentar1">Komentar</b>
      </div>
      <img class="mb-white-200-1-icon" alt="" src="mb_white_200 1.png">
      <a href="index3.html" class="button4"><div class="button1">Monitoring</div></a>
      <div class="button6"><div class="button1">Komentar</div></div>

      <!-- Comment Sorting Dropdown -->
      <div>
         <label for="sortComments">Sort by:</label>
         <select id="sortComments" onchange="sortComments(this.value)">
            <option value="Newest">Newest First</option>
            <option value="Oldest">Oldest First</option>
         </select>
      </div>

      <!-- Feedback Textarea -->
      <div class="textarea-field">
         <div class="label">Berikan feedback anda</div>
         <textarea id="commentInput" class="textarea" placeholder="Tulis komentar anda di sini..." oninput="updateCharacterCount()"></textarea>
         <div id="charCount">300 characters remaining</div>
         <button class="button8" onclick="submitComment()">Kirim</button>
      </div>

      <!-- Display Comments -->
      <div id="commentList" class="comment-list"></div>
   </div>
</body>
</html>

